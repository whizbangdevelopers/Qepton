import{b as l}from"./index-CJoUzN77.js";import{u as r}from"./ui-BP9V799k.js";import{u as c}from"./gists-RON_Ub2y.js";import"./settings-sync-D_TFiVOa.js";const g=l(()=>{if(!window.electronAPI){console.debug("[Electron IPC] Not running in Electron, skipping setup");return}console.debug("[Electron IPC] Setting up IPC event listeners");const n=r(),t=c(),e=[];e.push(window.electronAPI.onMenuNewGist(()=>{console.debug("[Electron IPC] Menu: New Gist"),n.openModal("newGist")})),e.push(window.electronAPI.onMenuSyncGists(async()=>{console.debug("[Electron IPC] Menu: Sync Gists"),await Promise.all([t.syncGists(),t.syncStarredGists()])})),e.push(window.electronAPI.onMenuEditGist(()=>{console.debug("[Electron IPC] Menu: Edit Gist"),n.openModal("editGist")})),e.push(window.electronAPI.onMenuDeleteGist(()=>{console.debug("[Electron IPC] Menu: Delete Gist"),n.openModal("deleteGist")})),e.push(window.electronAPI.onMenuToggleImmersive(()=>{console.debug("[Electron IPC] Menu: Toggle Immersive"),n.toggleImmersiveMode()})),e.push(window.electronAPI.onMenuToggleDashboard(()=>{console.debug("[Electron IPC] Menu: Toggle Dashboard"),n.toggleModal("dashboard")})),e.push(window.electronAPI.onMenuToggleSearch(()=>{console.debug("[Electron IPC] Menu: Toggle Search"),n.toggleModal("search")})),e.push(window.electronAPI.onUpdateAvailable((s,o)=>{console.debug("[Electron IPC] Update available:",o.version),n.setUpdateAvailable({version:o.version,releaseDate:o.releaseDate,releaseNotes:o.releaseNotes||null,downloadUrl:""})})),e.push(window.electronAPI.onDownloadProgress((s,o)=>{console.debug("[Electron IPC] Download progress:",o.percent.toFixed(1)+"%")})),e.push(window.electronAPI.onUpdateDownloaded((s,o)=>{console.debug("[Electron IPC] Update downloaded:",o.version)})),console.debug("[Electron IPC] Setup complete")});export{g as default};
