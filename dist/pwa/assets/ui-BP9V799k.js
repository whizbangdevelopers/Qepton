import{aN as t}from"./index-CJoUzN77.js";import{a as i}from"./settings-sync-D_TFiVOa.js";const l=t("ui",{state:()=>({modals:{newGist:!1,editGist:!1,deleteGist:!1,cloneGist:!1,rawGist:!1,about:!1,dashboard:!1,help:!1,search:!1,logout:!1,pinnedTags:!1,settings:!1,versionHistory:!1},rawGistContent:null,immersiveMode:!1,expandedFiles:{},updateAvailable:!1,updateInfo:null,previewLines:5,navDrawers:{allGistsVisible:!0,starredVisible:!0,recentsVisible:!0,languagesVisible:!0,languagesExpanded:!0,tagsVisible:!0,tagsExpanded:!0},gistListView:"list",gistSort:{sortBy:"updated",direction:"desc"},tagColors:{},showTagColors:!0,bulkOperationsEnabled:!1,showKeyboardFocus:!1}),getters:{isAnyModalOpen:s=>Object.values(s.modals).some(e=>e),openModals:s=>Object.entries(s.modals).filter(([,e])=>e).map(([e])=>e),isFileExpanded:s=>e=>s.expandedFiles[e]||!1,isListView:s=>s.gistListView==="list",isCardView:s=>s.gistListView==="card"},actions:{openModal(s,e=null){this.modals[s]=!0,s==="rawGist"&&e&&(this.rawGistContent=e),console.debug(`[UI] Opened modal: ${s}`)},closeModal(s){this.modals[s]=!1,s==="rawGist"&&(this.rawGistContent=null),console.debug(`[UI] Closed modal: ${s}`)},closeAllModals(){Object.keys(this.modals).forEach(s=>{this.modals[s]=!1}),this.rawGistContent=null,console.debug("[UI] Closed all modals")},toggleModal(s){this.modals[s]=!this.modals[s],console.debug(`[UI] Toggled modal: ${s} -> ${this.modals[s]}`)},toggleImmersiveMode(){this.immersiveMode=!this.immersiveMode,i.saveSettings({immersiveMode:this.immersiveMode,navDrawers:{...this.navDrawers}}),console.debug(`[UI] Immersive mode: ${this.immersiveMode}`)},enableImmersiveMode(){this.immersiveMode=!0,i.saveSettings({immersiveMode:!0,navDrawers:{...this.navDrawers}})},disableImmersiveMode(){this.immersiveMode=!1,i.saveSettings({immersiveMode:!1,navDrawers:{...this.navDrawers}})},toggleFileExpansion(s){this.expandedFiles[s]=!this.expandedFiles[s]},expandFile(s){this.expandedFiles[s]=!0},collapseFile(s){this.expandedFiles[s]=!1},expandAllFiles(s){s.forEach(e=>{this.expandedFiles[e]=!0})},collapseAllFiles(s){s.forEach(e=>{this.expandedFiles[e]=!1})},setUpdateAvailable(s){this.updateAvailable=!0,this.updateInfo=s,console.debug("[UI] Update available:",s.version)},dismissUpdate(){this.updateAvailable=!1,this.updateInfo=null},reset(){this.closeAllModals(),this.rawGistContent=null,this.immersiveMode=!1,this.expandedFiles={},this.updateAvailable=!1,this.updateInfo=null,console.debug("[UI] State reset")},toggleNavDrawerVisibility(s){s==="allGists"?this.navDrawers.allGistsVisible=!this.navDrawers.allGistsVisible:s==="starred"?this.navDrawers.starredVisible=!this.navDrawers.starredVisible:s==="recents"?this.navDrawers.recentsVisible=!this.navDrawers.recentsVisible:s==="languages"?this.navDrawers.languagesVisible=!this.navDrawers.languagesVisible:this.navDrawers.tagsVisible=!this.navDrawers.tagsVisible,i.saveSettings({immersiveMode:this.immersiveMode,navDrawers:{...this.navDrawers}})},toggleNavDrawerExpanded(s){s==="languages"?this.navDrawers.languagesExpanded=!this.navDrawers.languagesExpanded:this.navDrawers.tagsExpanded=!this.navDrawers.tagsExpanded,i.saveSettings({immersiveMode:this.immersiveMode,navDrawers:{...this.navDrawers}})},setGistListView(s){this.gistListView=s,i.saveSettings({gistListView:s}),console.debug(`[UI] Gist list view: ${s}`)},toggleGistListView(){this.gistListView=this.gistListView==="list"?"card":"list",i.saveSettings({gistListView:this.gistListView}),console.debug(`[UI] Toggled gist list view: ${this.gistListView}`)},setGistSort(s,e){this.gistSort.sortBy===s&&e===void 0?this.gistSort.direction=this.gistSort.direction==="asc"?"desc":"asc":(this.gistSort.sortBy=s,e!==void 0&&(this.gistSort.direction=e)),i.saveSettings({gistSort:{...this.gistSort}}),console.debug(`[UI] Gist sort: ${this.gistSort.sortBy} ${this.gistSort.direction}`)},toggleSortDirection(){this.gistSort.direction=this.gistSort.direction==="asc"?"desc":"asc",i.saveSettings({gistSort:{...this.gistSort}}),console.debug(`[UI] Sort direction: ${this.gistSort.direction}`)},setTagColor(s,e){this.tagColors[s]=e,i.saveSettings({tagColors:{...this.tagColors}}),console.debug(`[UI] Set tag color: ${s} -> ${e}`)},removeTagColor(s){delete this.tagColors[s],i.saveSettings({tagColors:{...this.tagColors}}),console.debug(`[UI] Removed tag color: ${s}`)},toggleShowTagColors(){this.showTagColors=!this.showTagColors,i.saveSettings({showTagColors:this.showTagColors}),console.debug(`[UI] Show tag colors: ${this.showTagColors}`)},toggleBulkOperations(){this.bulkOperationsEnabled=!this.bulkOperationsEnabled,console.debug(`[UI] Bulk operations: ${this.bulkOperationsEnabled}`)},setBulkOperations(s){this.bulkOperationsEnabled=s,console.debug(`[UI] Bulk operations: ${this.bulkOperationsEnabled}`)},toggleKeyboardFocus(){this.showKeyboardFocus=!this.showKeyboardFocus,console.debug(`[UI] Keyboard focus: ${this.showKeyboardFocus}`)}},persist:{paths:["immersiveMode","expandedFiles","navDrawers","gistListView","gistSort","tagColors","showTagColors","bulkOperationsEnabled","showKeyboardFocus"]}});export{l as u};
