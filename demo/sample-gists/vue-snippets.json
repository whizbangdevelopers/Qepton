{
  "description": "Vue 3 Composables #vue #typescript #frontend",
  "public": true,
  "files": {
    "useLocalStorage.vue": {
      "content": "<script setup lang=\"ts\">\nimport { ref, watch, type Ref } from 'vue';\n\n/**\n * Reactive localStorage composable.\n */\nfunction useLocalStorage<T>(key: string, defaultValue: T): Ref<T> {\n  const stored = localStorage.getItem(key);\n  const data = ref<T>(\n    stored ? JSON.parse(stored) : defaultValue\n  ) as Ref<T>;\n\n  watch(\n    data,\n    (newValue) => {\n      localStorage.setItem(key, JSON.stringify(newValue));\n    },\n    { deep: true }\n  );\n\n  return data;\n}\n\n// Usage\nconst theme = useLocalStorage('theme', 'light');\nconst favorites = useLocalStorage<string[]>('favorites', []);\n\nfunction toggleTheme() {\n  theme.value = theme.value === 'light' ? 'dark' : 'light';\n}\n\nfunction addFavorite(id: string) {\n  if (!favorites.value.includes(id)) {\n    favorites.value.push(id);\n  }\n}\n</script>\n\n<template>\n  <div :class=\"theme\">\n    <button @click=\"toggleTheme\">Toggle Theme</button>\n    <p>Current theme: {{ theme }}</p>\n    <p>Favorites: {{ favorites.length }}</p>\n  </div>\n</template>"
    },
    "useFetch.vue": {
      "content": "<script setup lang=\"ts\">\nimport { ref, watchEffect, type Ref } from 'vue';\n\ninterface UseFetchReturn<T> {\n  data: Ref<T | null>;\n  error: Ref<Error | null>;\n  isLoading: Ref<boolean>;\n  refetch: () => Promise<void>;\n}\n\nfunction useFetch<T>(url: Ref<string> | string): UseFetchReturn<T> {\n  const data = ref<T | null>(null) as Ref<T | null>;\n  const error = ref<Error | null>(null);\n  const isLoading = ref(false);\n\n  async function fetchData() {\n    isLoading.value = true;\n    error.value = null;\n\n    try {\n      const urlValue = typeof url === 'string' ? url : url.value;\n      const response = await fetch(urlValue);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n      \n      data.value = await response.json();\n    } catch (e) {\n      error.value = e instanceof Error ? e : new Error(String(e));\n    } finally {\n      isLoading.value = false;\n    }\n  }\n\n  watchEffect(() => {\n    fetchData();\n  });\n\n  return { data, error, isLoading, refetch: fetchData };\n}\n\n// Usage\nconst userId = ref('1');\nconst { data: user, isLoading, error } = useFetch<{ name: string }>(\n  computed(() => `https://api.example.com/users/${userId.value}`)\n);\n</script>\n\n<template>\n  <div v-if=\"isLoading\">Loading...</div>\n  <div v-else-if=\"error\">Error: {{ error.message }}</div>\n  <div v-else-if=\"user\">User: {{ user.name }}</div>\n</template>"
    }
  }
}
